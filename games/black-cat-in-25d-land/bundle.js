(()=>{var t={141:function(){W={_state:null,_getState(t){if(this._state)return this._state;const e=t.createShader(35633);t.shaderSource(e,"#version 300 es\nprecision lowp float;in vec4 c,p,u;uniform mat4 M,m;out vec4 C,P,U;void main(){gl_Position=M*p;P=m*p;C=c;U=u;}"),t.compileShader(e);const n=t.createShader(35632);t.shaderSource(n,"#version 300 es\nprecision lowp float;uniform vec3 c,d,a;in vec4 C,P,U;out vec4 o;uniform sampler2D s;void main(){float n=max(dot(d,-normalize(cross(dFdx(P.xyz),dFdy(P.xyz)))),0.);o=mix(texture(s,U.xy),vec4(c*C.rgb*n+a*C.rgb,1.),C.a);}"),t.compileShader(n);const o=t.createProgram();t.attachShader(o,e),t.attachShader(o,n),t.linkProgram(o),t.useProgram(o);const r=t.getAttribLocation(o,"p"),a=t.getAttribLocation(o,"u"),i=t.getAttribLocation(o,"c"),c=t.getUniformLocation(o,"M"),s=t.getUniformLocation(o,"m"),l=t.getUniformLocation(o,"c"),u=t.getUniformLocation(o,"d"),d=t.getUniformLocation(o,"a"),f=t.getUniformLocation(o,"s"),p=t.createBuffer(),m=t.createBuffer(),g=new Map,P=new WeakMap;return t.enable(2929),t.blendFunc(770,771),t.activeTexture(33984),t.pixelStorei(37441,1),t.pixelStorei(37440,1),this._state={gl:t,program:o,attrib_p:r,attrib_u:a,attrib_c:i,uni_M:c,uni_m:s,uni_c:l,uni_d:u,uni_a:d,uni_s:f,posBuffer:p,uvBuffer:m,modelCache:g,textureCache:P},this._state},_getModelVerts:t=>cube(),reset:()=>{0},render:(t,e,n)=>{const o=W._getState(e);e.useProgram(o.program),e.clearColor(...t.b.c),e.clear(16640),e.uniform3f(o.uni_c,...t.d.c),e.uniform3f(o.uni_d,...t.d.p),e.uniform3f(o.uni_a,...t.a.c);for(const r of t.o){let a=o.modelCache.get(r.m);a||(a=W._getModelVerts(r.m),o.modelCache.set(r.m,a));const[i,c]=a;e.bindBuffer(34962,o.posBuffer),e.bufferData(34962,new Float32Array(i),35044),e.vertexAttribPointer(o.attrib_p,3,5126,0,0,0),e.enableVertexAttribArray(o.attrib_p),e.bindBuffer(34962,o.uvBuffer),e.bufferData(34962,new Float32Array(c),35044),e.vertexAttribPointer(o.attrib_u,2,5126,0,0,0),e.enableVertexAttribArray(o.attrib_u);const s=(new DOMMatrix).translate(...r.p||[0,0,0]).rotate(...r.r||[0,0,0]).scale(...r.s||[1,1,1]);if(e.uniformMatrix4fv(o.uni_m,0,s.toFloat32Array()),r.c)e.vertexAttrib4f(o.attrib_c,r.c[0],r.c[1],r.c[2],1);else if(e.vertexAttrib4f(o.attrib_c,0,0,0,0),r.t){let t=o.textureCache.get(r.t);t||(t=e.createTexture(),e.bindTexture(3553,t),e.texParameteri(3553,10241,9987),e.texParameteri(3553,10240,9729),e.texImage2D(3553,0,6408,6408,5121,r.t),e.generateMipmap(3553),o.textureCache.set(r.t,t)),e.bindTexture(3553,t),e.uniform1i(o.uni_s,0)}const l=new DOMMatrix([1.8/n,0,0,0,0,1.8,0,0,0,0,-1.001,-1,0,0,-.2,0]).rotate(...t.c.r).translate(...t.c.p).multiply(s).toFloat32Array();e.uniformMatrix4fv(o.uni_M,0,l),e.enable(3042),e.drawArrays(4,0,"plane"==r.m?6:i.length/3)}}},cube=()=>[[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1,1,1,-1,1,1,1,1,-1,1,1,1,-1,1,-1,1,1,-1,-1,1,1,-1,-1,1,-1,-1,1,1,1,1,-1,-1,1,1,1,1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,1,-1,1,-1,-1,-1,1,-1,-1],[1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0]]}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=o[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";n(141);let t=new AudioContext;const e=(e=1,n=.05,o=220,r=0,a=0,i=.1,c=0,s=1,l=0,u=0,d=0,f=0,p=0,m=0,g=0,P=0,h=0,b=1,x=0,y=0,w=0)=>{let v=Math,M=2*v.PI,A=44100,_=l*=500*M/A/A,C=o*=(1-n+2*n*v.random(n=[]))*M/A,S=0,k=0,L=0,I=1,B=0,$=0,D=0,U=w<0?-1:1,E=M*U*w*2/A,G=v.cos(E),T=v.sin,F=T(E)/4,z=1+F,W=-2*G/z,j=(1-F)/z,R=(1+U*G)/2/z,Y=-(U+G)/z,O=R,V=0,q=0,H=0,N=0;for(u*=500*M/A**3,g*=M/A,d*=M/A,f*=A,p=A*p|0,e*=.3,U=(r=A*r+9)+(x*=A)+(a*=A)+(i*=A)+(h*=A)|0;L<U;n[L++]=D*e)++$%(100*P|0)||(D=c?1<c?2<c?3<c?T(S**3):v.max(v.min(v.tan(S),1),-1):1-(2*S/M%2+2)%2:1-4*v.abs(v.round(S/M)-S/M):T(S),D=(p?1-y+y*T(M*L/p):1)*(D<0?-1:1)*v.abs(D)**s*(L<r?L/r:L<r+x?1-(L-r)/x*(1-b):L<r+x+a?b:L<U-h?(U-L-h)/i*b:0),D=h?D/2+(h>L?0:(L<U-h?1:(U-L)/h)*n[L-h|0]/2/e):D,w&&(D=N=O*V+Y*(V=q)+R*(q=D)-j*H-W*(H=N))),E=(o+=l+=u)*v.cos(g*k++),S+=E+E*m*T(L**5),I&&++I>f&&(o+=d,C+=d,I=0),!p||++B%p||(o=C,l=_,I=I||1);(e=t.createBuffer(1,U,A)).getChannelData(0).set(n),(o=t.createBufferSource()).buffer=e,o.connect(t.destination),o.start()},o=["################################################################################","#..............................................................................#","#..............................................................................#","#..............................................................................#","#.....................................................P......P....P............#","#^^............##########^^#########......########...###...###...###........####","#..............#.............................#.....................#...........#","#........#######.............................#.....................#...........#","#..............###############################.....................######......#","#..............#.............................#.....................#...........#","#..............#.............................#.....................#........####","###AA##........#.............##^^#############.................................#","#..............#...P.........................#.................P...............#","#.........######^^####.......................#########........##################","#..............#.....#.......................#.................................#","#.P............#.....#...################....#.................................#","#######........#.............................#.................................#","#..............#..................P.P.P.P....####################.....##########","#..............########^^#####################.................................#","#.......########................#............#..............P............P.....#","#...............................#............#............#################....#","#...............................#^^##........#............#.........#..........#","#########...........................#........#............#.........#..........#","#.......#...........................#........#..P....P....#....................#","#.......#...........................#.....##############AA#....................#","#.......############................#..........................................#","#..................#####.....................................###^^###..........#","#..............................................................................#","#.P..P......................................P....P.............................#","#####################################AA#########################################"],r=["################################################################################","#...........#................................#.................................#","#...........#................................#.................................#","#...........#................................#.................................#","#...........#..........................P..P..#.....P...........................#","#####.......########^^#######..........########^^####.......###########.....#^^#","#...........#...............#................#..............#..................#","#........P..#...............#..........P..P..#..............#..................#","#.......#####...............#.....^^##########.........######.....########.....#","#...........#...............#................#..............#..................#","#..P........#................................#..P..P........#..................#","#####.......#................................#########......######........######","#...........#.....###########................#..............#..................#","#........P..#...............#................#.......P...P..#..................#","#.......#####...............#.......P..P.....#.....##########.....########.....#","#...........#...............##############^^##..............#..................#","#..P........#...............#................#..............#..................#","#####.......#...............#................#..............#..................#","#...........##AA#####.......................................#..................#","#...................#...........P..P..P.....................#..................#","#....####...........##########################AA###############^^###############","#..............................................................................#","#..............................................................................#","#...................PPPP....PPP.......P...PPP..................................#","#...................P...P..P...P..P...P..P.....................................#","#........P..........PPPP...PPPPP..P...P...PPP..................................#","#........#..........P......P...P..P.P.P......P...............###^^###..........#","#........#..........P......P...P...P.P....PPP..................................#","#........#.....................................................................#","##########^^#############################################################^^#####"],a=n.p+"fed8cad0095260b8609b.png",i=n.p+"5460793be2de5c553b82.svg",c=document.getElementById("myCanvas"),s=c.getContext("webgl2",{antialias:!1,preserveDrawingBuffer:!0}),l=.001,u=-.015,d=.35,f=-.25,p=1e3/60;let m=0,g=0,P=null,h=[...o],b=[...r];const x={b:{c:[0,0,0,0]},c:{p:[6,5,-10],r:[0,0,0]},d:{p:[.5,-.3,-.7],c:[1,1,1]},a:{c:[.3,.3,.2]},o:[]};let y=[],w=null,v=[],M={x:6,y:5,z:.5,w:.75,h:.75,speed:.15,vy:0,onGround:!1};let A=8,_=0,C=1,S={},k=!1,L=document.getElementById("time"),I=document.getElementById("coins");document.getElementById("backgroundImg").src=i;const B=3e5;let $=null,D=null,U="waiting",E=0,G=0;function T(){if(L&&I){if("running"===U&&$){const t=Date.now()-$,e=Math.max(0,B-t),n=Math.floor(e/6e4),o=Math.floor(e%6e4/1e3);L.textContent=`Time: ${n}:${o.toString().padStart(2,"0")}`}else L.textContent="Time: 5:00";I.textContent=`Paws: ${G}/${E}`}}function F(){if("running"!==U)return;(Date.now()-$>=B||G>=E)&&(U="ended",D=Date.now(),function(){const t=D-$,e=Math.floor(t/6e4),n=Math.floor(t%6e4/1e3),o=Math.round(G/E*100),r=document.createElement("div");r.id="summaryWindow",r.style.cssText="\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 400px;\n    height: 350px;\n    background: rgba(0, 0, 0, 0.95);\n    color: white;\n    padding: 25px;\n    border-radius: 15px;\n    border: 3px solid rgba(255, 255, 255, 0.3);\n    z-index: 1000;\n    font-family: monospace;\n    text-align: center;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);\n  ";const a=G>=E,i=a?"Great! You did it!":"Time's up!",c=a?"#00ff00":"#ff6b6b";r.innerHTML=`\n    <h2 style="margin-top: 0; color: #ffd700; font-size: 24px;">Game Summary</h2>\n    <p style="font-size: 20px; color: ${c}; font-weight: bold; margin: 15px 0;">${i}</p>\n    <div style="margin: 20px 0; font-size: 16px;">\n      <p><strong>Time Used:</strong> ${e}:${n.toString().padStart(2,"0")}</p>\n      <p><strong>Paws Collected:</strong> ${G}/${E}</p>\n      <p><strong>Completion:</strong> ${o}%</p>\n      ${a?'<p style="color: #00ff00; font-weight: bold;">Perfect Score!</p>':""}\n    </div>\n    <div style="margin-top: 25px;">\n      <button onclick="restartGame()" style="\n        background: #4CAF50;\n        color: white;\n        border: none;\n        padding: 12px 25px;\n        font-size: 16px;\n        border-radius: 8px;\n        cursor: pointer;\n        margin: 8px;\n        font-family: monospace;\n      ">Play Again</button>\n    </div>\n  `,document.body.appendChild(r)}())}function z(t,e){if(t<0||t>=m)return!1;if(e<0||e>=g)return!1;const n=P[g-1-e][t];return"."!==n&&"P"!==n}window.restartGame=function(){O(),U="waiting",$=null,D=null,G=0;const t=document.getElementById("summaryWindow");t&&t.remove(),y=[],w=null,x.o=[],M.x=6,M.y=5,M.vy=0,M.onGround=!1,X()},window.addEventListener("beforeunload",()=>{O()});document.addEventListener("keydown",t=>{const e="Space"===t.code?"Space":t.key.toLowerCase();S[e]=!0}),document.addEventListener("keyup",t=>{const e="Space"===t.code?"Space":t.key.toLowerCase();S[e]=!1});let j=null,R=null;function Y(t){null===R&&(R=t);t-R>=p&&("running"===U&&(!function(){let t=0,n=!1;S.a&&!S.d?(t=-M.speed,n=!0,C=-1):S.d&&!S.a&&(t=M.speed,n=!0,C=1);V("A")&&M.onGround&&(M.vy=.5,M.onGround=!1);const o=V("^");o&&!k&&M.onGround&&(P===h?P=b:P===b&&(P=h),e(1,.05,882,0,.09,.01,2,1.2,-27,-30,0,0,0,.1,0,0,0,.84,.47,0,0));k=o,function(){const t=Math.floor(M.x),n=Math.floor(M.x+2*M.w),o=Math.floor(M.y+2*M.h),r=Math.floor(M.y);for(let a=t;a<=n;a++)for(let t=r;t<=o;t++){const n=g-1-t;if(a>=0&&a<m&&n>=0&&n<g&&"P"===P[n][a]){P[n]=P[n].substring(0,a)+"."+P[n].substring(a+1);const o=v.findIndex(e=>e.originalX===a&&e.originalY===g-1-t);return-1!==o&&v.splice(o,1),w=null,e(2,.05,331,.02,.06,.26,0,2.5,0,0,482,.09,.02,0,0,0,.04,.55,.03,0,0),G++,T(),!0}}}(),(S[" "]||S.Space)&&M.onGround&&(M.vy=d,M.onGround=!1,e(.8,.05,320,.01,.03,.06,1,.2,0,145,0,0,0,0,0,0,0,.98,.01,0,-1117));M.vy+=u,M.vy<f&&(M.vy=f);const r=function(t,e,n,o,r,a){let i=t+r,c=e+a,s=!1,u=!1;const d=Math.floor((i-n)/1),f=Math.floor((i+2*n)/1),p=Math.floor(e/1),m=Math.floor((e+o-l)/1);for(let t=p;t<=m;t++){if(r>0&&z(f,t)){s=!0,i=1*(f-2*n);break}if(r<0&&z(d,t)){s=!0,i=1*(d+2*n);break}}const g=Math.floor(i/1),P=Math.floor((i+n-l)/1);for(let t=g;t<=P;t++){if(a>0&&z(t,Math.floor((c+o-l)/1))){u=!0,c=1*Math.floor((c+o-l)/1)-o;break}if(a<0&&z(t,Math.floor(c/1))){u=!0,c=1*(Math.floor(c/1)+1);break}}return{x:i,y:c,collidedX:s,collidedY:u}}(M.x,M.y,M.w,M.h,t,M.vy);M.x=r.x,M.y=r.y,r.collidedY&&M.vy<=0?(M.onGround||e(2,.05,249,.03,0,.04,4,2.8,0,-10,0,0,0,1.8,0,.2,.14,.97,.01,0,0),M.onGround=!0,M.vy=0):r.collidedY&&M.vy>0?M.vy=0:M.onGround=!1;M.onGround?n?(_++,_>=2&&(A++,A>11&&(A=9),_=0)):A=8:A=M.vy>.1?1:M.vy<=.1&&M.vy>=-.1?2:3}(),function(){const t=(-1===C?20:0)+A;w!==P&&(y=[],P===h?(y.push(...H(h,0,!1)),y.push(...H(b,-2,!0))):(y.push(...H(b,-2,!1)),y.push(...H(h,0,!0))),w=P);M.cat.p[0]=M.x,M.cat.p[1]=M.y,M.cat.p[2]=0,M.cat.t=q[t],x.c.p[0]=-M.x,x.c.p[1]=-M.y,x.o=[...y,M.cat]}(),F(),T()),W.render(x,s,1.5),R=t),j=requestAnimationFrame(Y)}function O(){j&&(cancelAnimationFrame(j),j=null),R=null}function V(t){const e=Math.floor(M.y-.1),n=Math.floor(M.x+M.w/2),o=g-1-e;return n>=0&&n<m&&o>=0&&o<g&&P[o][n]===t}let q=[];function H(t,e,n=!1){const o=[],r=q.length/3,a=n?2*r:0,i=[.5,.5,.5];for(let n=0;n<g;n++){const r=t[n],c=g-1-n;for(let t=0;t<m;t++){const n=[t,c,e],s=[t,c,e-1];switch(r[t]){case"#":o.push({m:"cube",s:i,p:n,t:q[18+a]});break;case"^":o.push({m:"cube",s:i,p:n,t:q[19+a]});break;case"A":o.push({m:"cube",s:i,p:n,t:q[17+a]});break;case"P":o.push({m:"plane",s:i,p:s,r:[0,0,0],t:q[16+a]})}}}return o}function N(){const t=document.createElement("div");t.id="startOverlay",Object.assign(t.style,{position:"absolute",inset:"0",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.8)",color:"#ffffff",fontFamily:"monospace, sans-serif",fontSize:"24px",textAlign:"center",cursor:"pointer",zIndex:"9999"}),t.innerHTML="Black Cat in 2.5D world<br>Paws are collectable, but time is limited<br>Use WASD to move, Space to jump<br>Collect all paws to win or use all time<br>Jump from jump platforms, jumps higher<br>and use teleports to move between dimensions!";const e=c.parentElement||document.body;e===document.body?document.body.style.position=document.body.style.position||"relative":e.style.position||(e.style.position="relative"),e.appendChild(t),t.addEventListener("click",()=>{t.remove(),X()},{once:!0})}function X(){var t;O(),h=[...o],b=[...r],P=t=h,m=t[0].length,g=t.length,x.o.push({m:"plane",n:"cat",s:[M.w,M.h],p:[0,0,-4],r:[0,0,0],t:q[8]}),M.cat=x.o.find((t,e)=>"cat"===t.n),y=[],v=[],w=null,"waiting"===U&&(E=function(){let t=0;for(let e of o)for(let n of e)"P"===n&&t++;for(let e of r)for(let n of e)"P"===n&&t++;return t}(),G=0,U="running",$=Date.now(),T()),requestAnimationFrame(Y)}!function(){const t=new Image;t.src=a,t.onload=()=>{const e=32,n=32,o=document.createElement("canvas"),r=o.getContext("2d");o.width=e,o.height=n;let a=0,i=0;const c=t.width/e;a=3*c;const s=()=>{i++,i===a&&(console.log("All sprites loaded"),N())};for(let a=0;a<c;a++){r.clearRect(0,0,o.width,o.height),r.drawImage(t,a*e,0,e,n,0,0,e,n);const i=new Image;i.src=o.toDataURL(),i.id=`sprite_${a}`,i.onload=s,q.push(i)}for(let a=0;a<c;a++){r.clearRect(0,0,o.width,o.height),r.save(),r.translate(o.width/2,o.height/2),r.scale(-1,1),r.drawImage(t,a*e,0,e,n,-16,-16,e,n),r.restore();const i=new Image;i.src=o.toDataURL(),i.id=`sprite_${a+c}`,i.onload=s,q.push(i)}for(let a=0;a<c;a++){r.clearRect(0,0,o.width,o.height),r.globalAlpha=.5,r.drawImage(t,a*e,0,e,n,0,0,e,n),r.globalAlpha=1;const i=new Image;i.src=o.toDataURL(),i.id=`sprite_${a+2*c}`,i.onload=s,q.push(i)}}}()})()})();