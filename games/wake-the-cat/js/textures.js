import*as e from"three";import{ranR as l}from"./util.js";function t(l,t=0,i=1,n=!0){const r=document.createElement("canvas");r.width=512,r.height=512;const f=r.getContext("2d");f.fillStyle=t,f.fillRect(0,0,512,512),f.line=(e,l,t,i,n,r)=>{f.beginPath(),f.lineCap="round",f.moveTo(e,l),f.lineTo(t,i),f.strokeStyle=n,f.lineWidth=r,f.stroke()},f.lineR=(e,l,t,i,n,r,o)=>{for(var a=0;a<o;a+=1)f.line(e,l,t,i,n,r/Math.pow(1.5,a))},f.ell=(e,l,t,i,n)=>{f.beginPath(),f.fillStyle=n,f.ellipse(e,l,t,i,0,0,6.28),f.fill()},f.ellR=(e,l,t,i,n,r)=>{for(var o=0;o<r;o+=1)f.ell(e,l,t/Math.pow(1.5,o),i/Math.pow(1.5,o),n)},l(f);var o=new e.CanvasTexture(r);return o.wrapS=o.wrapT=n?e.MirroredRepeatWrapping:e.RepeatWrapping,o.repeat.set(i,i),o}export const textures={lines:(e=5)=>t(e=>{e.lineR(0,256,512,256,"#0004",100,8)},"#FFF",e),dimple:(e=5)=>t(e=>{e.ellR(256,256,128,128,"#0004",8)},"#FFF",e),frame:()=>t(e=>{e.fillStyle="#000088",e.fillRect(20,20,472,472)},"#2222FF",10),fur:()=>t(e=>{for(let t=0;t<500;t+=l(40,80))for(let i=0;i<512;i+=l(1,5))e.line(i,t+l(-20,20),i+l(-15,15),t+l(50,120),"#FFF4",l(1,5))},"#000",1),wood:(e=5)=>t(e=>{for(let n=0;n<500;n+=1){var t=l(-200,712),i=l(0,512);e.line(t,i,t+l(50,300),i,"#0004",l(1,5))}},"#FFF",e,!0),eye:()=>t(e=>{e.fillStyle="#000",e.ellipse(256,256,30,160,0,0,628),e.fill()},"#FFF"),blochy:(e,i,n,r=1)=>t(t=>{for(var f=0;f<r;f+=1)t.ell(l(0,512),l(0,512),l(30,200),l(30,200),e),i&&t.ell(l(0,512),l(0,512),l(30,100),l(30,100),i),n&&t.ell(l(0,512),l(0,512),l(30,100),l(30,100),n)},"#FFF",2),tabby:(e="#0004",l="#FFF")=>t(l=>{for(let t=-400;t<800;t+=120)l.lineR(0,t+256,256,t+0,e,64,5),l.lineR(256,t,512,t+256,e,64,5)},l,2,!0),pitted:(e=4,i=1)=>t(e=>{for(let t=0;t<50;t+=1)e.ellR(l(0,512),l(0,512),l(30,100),l(30,100),"#0004",4)},"#fff",i,!0),arrow:()=>t(e=>{e.line(256,50,256,400,"#000",50),e.line(256,50,50,200,"#000",50),e.line(256,50,462,200,"#000",50)},"#fff"),diag:()=>t(e=>{e.lineR(-100,156,356,612,"#0008",100,4),e.lineR(156,-100,612,356,"#0008",100,4)},"#FFF",5,!1),text:(e,l="",i="",n="",r="",f="#000",o="#FFF")=>t(t=>{var f=r?.7:1;t.font=90*f+'px "Comic Sans MS", sans-serif',t.fillStyle=o,t.textAlign="center",t.textBaseline="middle",t.fillText(e,256,100),t.font=70*f+'px "Comic Sans MS",sans-serif',t.fillText(l,256,230*f),t.fillText(i,256,330*f),t.fillText(n,256,430*f),t.fillText(r,256,530*f)},f)};