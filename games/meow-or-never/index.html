<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,user-scalable=0"/><meta name="theme-color" content="#111"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><title>Meow or Never</title><style>:root{--card-width:1.3em;--card-height:2em;--gap:.2em;--edge-gap:calc(var(--card-height) / 2 + var(--gap));--fg:#fff;--inv:#111;}html,body{margin:0;padding:0;height:100%;overflow:hidden;background:#242;font:130% monospace;color:var(--fg);user-select:none;}h1{margin-bottom:0;}h2{margin:0 0 2em;font-size:75%;}a{color:var(--fg);text-decoration:none;}li{margin-bottom:.5em;text-align:left;}.dialog{position:fixed;top:50svh;left:50vw;width:80vw;text-align:center;transform:translate(-50%,-50%);background:var(--inv);color:var(--fg);padding:.5em 1em 1em;border-radius:.3em;filter:drop-shadow(0 0 .1em black);}.button{background:var(--fg);color:var(--inv);display:block;padding:.5em 1em;font-weight:bold;text-align:center;border-radius:.1em;margin:.2em;}.button.player{display:inline-block;padding:.1em .3em;font-size:250%;}.scores{width:100%;margin-bottom:1em;}.name{width:100%;text-align:left;}.score{text-align:right;}.card{position:fixed;top:50svh;left:50vw;transform:translate(-50%,-50%) translate(var(--dx,0),var(--dy,0));transition:transform .35s ease;width:var(--card-width);height:var(--card-height);border-radius:.1em;background:var(--fg);color:var(--inv);font-size:250%;font-weight:bold;display:flex;align-items:center;justify-content:center;filter:drop-shadow(0 0 .1em black);user-select:none;outline:0 solid transparent;will-change:transform;}.card.cat{background-color:var(--inv);background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 200"><path d="M89.54 43.49 C93.55 42.92 93.44 45.77 93.8 48.3 C95.03 56.93 99.55 55.11 104.69 64.21 C108 70.1 109.63 81.68 104.27 87.94 C103.09 89.32 101.86 90.66 100.78 92.13 C100.25 92.85 104.19 100.69 102.17 109.29 C100.99 114.34 99 119.16 99.52 124.37 C99.63 125.41 99.84 126.46 100.22 127.44 C101.02 129.52 103.24 131.75 102.73 134.28 C101.49 140.5 98.56 146.84 95.61 152.42 C94.94 153.7 93.92 155.33 92.33 155.7 C91.58 155.88 87.73 155.81 86.75 155.56 C85.86 155.33 84.96 154.45 85.29 153.4 C85.57 152.49 86.03 151.57 86.75 150.96 C87.71 150.14 89.41 150.36 90.17 149.35 C90.99 148.26 92.19 144.55 92.4 143.77 C93.01 141.55 93.97 137.79 92.54 135.53 C91.99 134.66 91.18 132.67 90.38 132.67 C89.76 132.67 88.92 137.78 88.22 139.58 C86.62 143.7 85.56 145.76 83.33 149.77 C81.87 152.41 81.71 152.61 79.07 153.05 C78.07 153.22 75.48 153.68 74.05 153.05 C71.93 152.12 73.05 149.64 74.47 148.44 C75.15 147.87 77.28 147.99 78.03 146.98 C79.94 144.41 80.76 140.73 81.24 137.63 C82.01 132.63 78.01 129.85 75.38 125.9 C74.12 124.02 73.68 121.71 72.66 119.69 C72.59 119.57 66.13 122.84 66.03 124.65 C65.96 125.84 66.06 127.23 65.75 128.42 C63.94 135.15 60.53 144.61 57.65 150.61 C57.04 151.88 55.19 156 52.7 156.4 C51.23 156.63 49.72 156.6 48.23 156.54 C45.11 156.4 44.46 154.15 46.56 151.79 C47.24 151.03 48.84 150.92 49.63 150.54 C50.18 150.27 52.94 140.78 53.6 136.65 C53.77 135.64 53.96 131.51 53.81 131.42 C52.77 130.79 52.46 131.64 52.35 132.46 C52.34 132.5 51.46 137.15 50.53 139.72 C49.65 142.18 48.67 144.6 47.6 146.98 C45.5 151.64 42.35 157.92 35.67 154.73 C33.61 153.74 34.66 151.41 35.95 150.12 C37.1 148.96 37.63 149.69 39.02 149.28 C39.3 149.2 40.83 145.51 41.18 144.19 C42.85 138.01 41.88 124.23 41.88 124.23 C35.06 117.17 32.68 103.75 30.03 102.12 C28.27 101.22 18.92 93 23.64 84.19 C23.64 84.19 21.58 73.22 22.83 72.94 C26.39 72.14 31.9 79.08 31.9 79.08 C34.31 78.17 38.42 77.54 41.53 79.22 C41.53 79.22 49.6 71.99 51.09 73.29 C53.59 75.46 50.11 84.87 50.11 84.87 C51.79 88.71 51.62 92.82 50.95 94.99 C53.1 95.51 60.68 88.71 60.65 88.71 C65.74 81.49 81.8 80.87 88.01 82.43 C92.46 83.55 95.12 86.78 96.24 86.48 C98.95 85.74 99.92 82.87 100.78 80.13 C104.26 68.99 97.32 65.9 93.1 58.91 C88.97 52.06 89.13 43.55 89.54 43.49 Z" style="fill:rgb(255,255,255)"/></svg>');background-size:cover;background-repeat:no-repeat;background-position:center;}.card.top,.card.bottom{--dx:calc(var(--i,0) * (var(--card-width) + var(--gap)));}.card.left,.card.right{--dy:calc(var(--i,0) * (var(--card-width) + var(--gap)));}.card.top   {--dy:calc(-50svh + var(--edge-gap));transform:translate(-50%,-50%) translate(var(--dx,0),var(--dy,0)) rotateZ(180deg);}.card.bottom{--dy:calc(50svh - var(--edge-gap));}.card.left  {--dx:calc(-50vw + var(--edge-gap));transform:translate(-50%,-50%) translate(var(--dx,0),var(--dy,0)) rotateZ(90deg);}.card.right {--dx:calc(50vw - var(--edge-gap));transform:translate(-50%,-50%) translate(var(--dx,0),var(--dy,0)) rotateZ(-90deg);}@supports not (height:1svh){.card{top:50vh;left:50vw;}.card.top{--dy:calc(-50vh + var(--edge-gap));}.card.bottom{--dy:calc(50vh - var(--edge-gap));}}.bar{position:fixed;background:var(--inv);color:var(--fg);font-size:50%;font-weight:bold;letter-spacing:.2em;padding:1em;filter:drop-shadow(0 0 .1em black);text-align:center;}.bar.bottom{left:0;right:0;bottom:0;}.bar.left{top:0;bottom:0;writing-mode:vertical-rl;text-orientation:sideways;}.bar.top{transform:rotate(180deg);top:0;left:0;right:0;}.bar.right{top:0;bottom:0;right:0;transform:rotate(180deg);writing-mode:vertical-lr;text-orientation:sideways;}.flash{position:fixed;width:100vw;height:100svh;z-index:99999;pointer-events:none;}</style></head><body></body><script>"use strict";const SLOTS=[-1.5,-.5,.5,1.5],SIDES=[],TURNBARS=[],DRAWING_STACK=[];let flash,zIndex,currentPlayer,topCard,catsPlayed;function updateCardsLeft(){const e=TURNBARS[currentPlayer];e.innerHTML=`YOUR TURN, ${DRAWING_STACK.length} CARDS LEFT`,e.style.visibility="visible"}function updateTurnBars(){TURNBARS.forEach(e=>e.style.visibility="hidden"),updateCardsLeft()}function alignCard(e,t,n){e.className="card "+(t||""),e.style.setProperty("--i",SLOTS[n||0]),e.game.side=t,e.game.slot=n}function isHigher(e,t){return e>=t}function getHandOf(e){return Array.from(document.querySelectorAll(`.card.${SIDES[e]}`))}function hasHigherCard(e){for(let t of getHandOf(currentPlayer))if(isHigher(t.game.value,e))return!0;return!1}function sumHand(e){let t=0;for(let n of getHandOf(e))t+=n.game.value;return t}function endRound(){zzfx(void 0,void 0,432,.07,.26,.11,void 0,1.4,void 0,void 0,478,.08,.04,void 0,void 0,void 0,void 0,.76,.2,.01),updateCardsLeft(),currentPlayer=-1;let e=0,t=-1,n="";for(let i=0,u=SIDES.length;i<u;++i){const o=sumHand(i);o>e&&(e=o,t=i),n+=`<tr>
<td class="name">${SIDES[i].toUpperCase()}</td>
<td class="score">${o}<td>
</tr>`}const a=document.createElement("div");a.className="dialog",a.style.zIndex=++zIndex,a.innerHTML=`
<p>${SIDES[t].toUpperCase()} wins!</p>
<table class="scores">${n}<table>
<a href="#" onclick="setup(${SIDES.length}, ${t+1}); return false" class="button">Next round</a>
`,document.body.appendChild(a),a.animate([{transform:"translate(-50%, -50%)"},{transform:"translate(-50%, -50%) scale(1.5)"},{transform:"translate(-50%, -50%)"}],{duration:500,fill:"forwards"}).play()}function playCard(e){if(currentPlayer<0)return;const t=topCard==null?0:topCard.game.value,n=e.game.value,a=n<1,i=hasHigherCard(t),u=t<1||a||isHigher(n,t)||!i,o=e.game.side==SIDES[currentPlayer];if(!o||!u){o&&(TURNBARS[currentPlayer].innerHTML="MUST PLAY A HIGHER CARD"),zzfx(2.1,void 0,82,void 0,.02,.006,4,4,void 0,25,void 0,void 0,void 0,void 0,15,void 0,.11,.5,.02),flash.animate([{background:"#f00f"},{background:"#0000"}],{duration:200,fill:"forwards"}).play();return}if(e.onclick=function(){return!1},e.style.zIndex=++zIndex,requestAnimationFrame(()=>{e.classList.remove(e.game.side),e.style.transform=`translate(-50%, -50%) rotateZ(${Math.random()*10-5}deg) scale(2)`}),!a&&!i){const l=topCard;alignCard(l,e.game.side,e.game.slot),l.onclick=function(){return playCard(l),!1},requestAnimationFrame(()=>{l.style.transform=""}),zzfx(.6,void 0,527,.1,.17,.21,1,.5,void 0,void 0,120,.07,.1,void 0,7.4,void 0,void 0,.66,.16,.05,358)}else{const l=newCard(e.game.side,e.game.slot);l!=null&&(document.body.appendChild(l),l.style.transform="translate(-60vw, -60vh)",requestAnimationFrame(()=>{l.style.transform=""}),zzfx(4.2,void 0,60,.03,.01,.06,void 0,3.7,void 0,125,void 0,void 0,void 0,.6,void 0,void 0,.02,.71,.04,void 0,561))}if(a&&++catsPlayed>=SIDES.length||DRAWING_STACK.length<1){endRound();return}topCard=e,currentPlayer=++currentPlayer%SIDES.length,updateTurnBars()}function newCard(e,t,n){const a=document.createElement("a");if(n===void 0){if(DRAWING_STACK.length<1)return null;n=DRAWING_STACK.pop()}return a.href="#",a.onclick=function(){return playCard(a),!1},a.game={value:n},a.innerHTML=n,alignCard(a,e,t),a}function newCatCard(e,t){const n=newCard(e,t,0);return n.classList.add("cat"),n.innerHTML="&nbsp",n}function shuffle(e){for(let t=e.length-1;t-- >0;){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function setup(e,t){SIDES.length=0,TURNBARS.length=0,DRAWING_STACK.length=0;const n=[];for(let u=0;u<e;++u){for(let o=1;o<7;++o)n.push(o);for(let o=4;o<7;++o)n.push(o)}DRAWING_STACK.push(...shuffle(n)),zIndex=999,currentPlayer=t%e,topCard=null,catsPlayed=0,document.body.innerHTML="",flash=document.createElement("div"),flash.className="flash",document.body.appendChild(flash);const a=["bottom","left","top","right"],i=SLOTS.length;for(let u=0,o=e==2?2:1;u<e;++u){const l=a[u*o];SIDES.push(l);const g=document.createElement("div");g.className="bar "+l,g.style.zIndex=99999,document.body.appendChild(g),TURNBARS.push(g);const b=i-1;for(let p=0;p<b;++p)document.body.appendChild(newCard(l,p,p+1));document.body.appendChild(newCatCard(l,b))}updateTurnBars()}function init(e){if(!document.fullscreenElement)try{document.documentElement.requestFullscreen()}catch{}setup(e,Math.round(Math.random()*e))}window.onload=function(){document.body.innerHTML=`
<div class="dialog">
<h1>Meow or Never</h1>
<h2>A quick card game.</h2>
<ol>
<li>Play \u2265 last card.</li>
<li>Can\u2019t? Pick one to swap.</li>
<li>Black Cat anytime.</li>
<li>Ends when the last Cat is played.</li>
<li>Highest hand total wins.</li>
<li>Now choose number of players:</li>
</ol>
<a href="#" onclick="init(2); return false" class="button player">2</a>
<a href="#" onclick="init(3); return false" class="button player">3</a>
<a href="#" onclick="init(4); return false" class="button player">4</a>
</div>
`};const zzfxV=.3,zzfxX=new AudioContext,zzfx=(e=1,t=.05,n=220,a=0,i=0,u=.1,o=0,l=1,g=0,b=0,p=0,P=0,C=0,D=0,E=0,F=0,h=0,x=1,M=0,S=0,A=0)=>{let c=Math,d=2*c.PI,s=44100,j=g*=500*d/s/s,R=n*=(1-t+2*t*c.random(t=[]))*d/s,y=0,B=0,r=0,T=1,O=0,V=0,f=0,m=A<0?-1:1,H=d*m*A*2/s,v=c.cos(H),L=c.sin,k=L(H)/4,w=1+k,q=-2*v/w,G=(1-k)/w,z=(1+m*v)/2/w,Y=-(m+v)/w,K=z,I=0,$=0,N=0,U=0;for(a=s*a+9,M*=s,i*=s,u*=s,h*=s,b*=500*d/s**3,E*=d/s,p*=d/s,P*=s,C=s*C|0,e*=zzfxV,m=a+M+i+u+h|0;r<m;t[r++]=f*e)++V%(100*F|0)||(f=o?1<o?2<o?3<o?L(y**3):c.max(c.min(c.tan(y),1),-1):1-(2*y/d%2+2)%2:1-4*c.abs(c.round(y/d)-y/d):L(y),f=(C?1-S+S*L(d*r/C):1)*(f<0?-1:1)*c.abs(f)**l*(r<a?r/a:r<a+M?1-(r-a)/M*(1-x):r<a+M+i?x:r<m-h?(m-r-h)/u*x:0),f=h?f/2+(h>r?0:(r<m-h?1:(m-r)/h)*t[r-h|0]/2/e):f,A&&(f=U=K*I+Y*(I=$)+z*($=f)-G*N-q*(N=U))),H=(n+=g+=b)*c.cos(E*B++),y+=H+H*D*L(r**5),T&&++T>P&&(n+=p,R+=p,T=0),!C||++O%C||(n=R,g=j,T=T||1);e=zzfxX.createBuffer(1,m,s),e.getChannelData(0).set(t),n=zzfxX.createBufferSource(),n.buffer=e,n.connect(zzfxX.destination),n.start()};
</script></html>